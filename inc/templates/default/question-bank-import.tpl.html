<{* Smarty *}>
<{include file="_header.tpl.html"}>

<{include file="_menu-2.tpl.html"}>

<h2><{$g_vars.page.header}></h2>

<{include file="_notifications.tpl.html"}>

<p><form method=post action="question-bank.php?action=import">
<input type="hidden" name="action_type" value="preview">

<div class="neumorphic-light rounded-2xl p-6 mb-6">
    <h3 class="text-xl font-bold text-pastel-cadet mb-4">Instructions (Simple Format)</h3>
    <div class="bg-white/40 rounded-xl p-4 mb-4 text-slate-700 text-sm">
        <p class="mb-2"><strong>Format:</strong></p>
        <ul class="list-disc pl-5 space-y-1">
            <li><strong>Line 1:</strong> Question text</li>
            <li><strong>Next lines:</strong> Answers</li>
            <li><strong>Correct Answer:</strong> Add a <code>*</code> before the correct answer (e.g., <code>*Hanoi</code>)</li>
            <li><strong>Points (Optional):</strong> Add <code>Points: X</code> on a separate line to override default points</li>
            <li><strong>Separator:</strong> Leave a blank line between questions</li>
        </ul>
        <p class="mt-4 mb-2"><strong>Example:</strong></p>
        <pre class="bg-slate-800 text-slate-200 p-3 rounded-lg font-mono text-xs">
Question: What is the capital of Vietnam?
Ho Chi Minh City
*Hanoi
Da Nang

Question: 2 + 2 = ?
Points: 2
3
*4
5
</pre>
    </div>

    <div class="mb-4">
        <label class="block text-pastel-cadet font-semibold mb-2">Select Subject / Chọn chủ đề:</label>
        <select name="import_subject" class="w-full p-3 rounded-xl border border-white/20 bg-white/50 focus:ring-2 focus:ring-pastel-cadet/50 focus:outline-none transition-all">
            <{foreach from=$g_vars.page.subjects key=subjectid item=subject_name}>
                <option value="<{$subjectid}>" <{if $subjectid == $g_vars.page.default_subject}>selected<{/if}>><{$subject_name}></option>
            <{/foreach}>
        </select>
        <p class="text-xs text-slate-500 mt-1">All imported questions will be assigned to this subject</p>
    </div>

    <div class="mb-4">
        <label class="block text-pastel-cadet font-semibold mb-2">Default Points per Question:</label>
        <input type="number" name="default_points" value="1" min="0.1" step="0.1" class="w-full p-3 rounded-xl border border-white/20 bg-white/50 focus:ring-2 focus:ring-pastel-cadet/50 focus:outline-none transition-all">
        <p class="text-xs text-slate-500 mt-1">This value will be used for all questions unless overridden with <code class="bg-slate-200 px-1 rounded">Points:</code> in the question text</p>
    </div>

    <div class="mb-4">
        <label class="block text-pastel-cadet font-semibold mb-2"><{$lngstr.page_testmanager_import.document_label}></label>
        <textarea name="import_document" class="w-full h-64 p-4 rounded-xl border border-white/20 bg-white/50 focus:ring-2 focus:ring-pastel-cadet/50 focus:outline-none transition-all font-mono text-sm" placeholder="Paste your questions here..."></textarea>
    </div>

    <div class="flex justify-center gap-4">
        <button type="submit" name="bsubmit" class="neumorphic-light px-6 py-3 font-bold rounded-xl">Preview Import</button>
        <button type="submit" name="bcancel" class="neumorphic-light px-6 py-3 font-bold rounded-xl text-slate-600">Cancel</button>
    </div>
</div>
</form>

<{include file="_footer.tpl.html"}>
